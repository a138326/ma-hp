!function(e){"use strict";if("function"==typeof define&&define.amd)define(["jquery","moment"],e);else if("object"==typeof exports)module.exports=e(require("jquery"),require("moment"));else{if("undefined"==typeof jQuery)throw"bootstrap-datetimepicker requires jQuery to be loaded first";if("undefined"==typeof moment)throw"bootstrap-datetimepicker requires Moment.js to be loaded first";e(jQuery,moment)}}(function($,e){"use strict";if(!e)throw new Error("bootstrap-datetimepicker requires Moment.js to be loaded first");var t=function(t,n){var a={},r,i,o=!0,s,d=!1,l=!1,p,c=0,u,f,h,m=[{clsName:"days",navFnc:"M",navStep:1},{clsName:"months",navFnc:"y",navStep:1},{clsName:"years",navFnc:"y",navStep:10},{clsName:"decades",navFnc:"y",navStep:100}],y=["days","months","years","decades"],g=["top","bottom","auto"],b=["left","right","auto"],w=["default","top","bottom"],v={up:38,38:"up",down:40,40:"down",left:37,37:"left",right:39,39:"right",tab:9,9:"tab",escape:27,27:"escape",enter:13,13:"enter",pageUp:33,33:"pageUp",pageDown:34,34:"pageDown",shift:16,16:"shift",control:17,17:"control",space:32,32:"space",t:84,84:"t",delete:46,46:"delete"},k={},D=function(){return void 0!==e.tz&&void 0!==n.timeZone&&null!==n.timeZone&&""!==n.timeZone},C=function(t){var a;return a=void 0===t||null===t?e():e.isDate(t)||e.isMoment(t)?e(t):D()?e.tz(t,f,n.useStrict,n.timeZone):e(t,f,n.useStrict),D()&&a.tz(n.timeZone),a},x=function(e){if("string"!=typeof e||e.length>1)throw new TypeError("isEnabled expects a single character string parameter");switch(e){case"y":return u.indexOf("Y")!==-1;case"M":return u.indexOf("M")!==-1;case"d":return u.toLowerCase().indexOf("d")!==-1;case"h":case"H":return u.toLowerCase().indexOf("h")!==-1;case"m":return u.indexOf("m")!==-1;case"s":return u.indexOf("s")!==-1;default:return!1}},T=function(){return x("h")||x("m")||x("s")},M=function(){return x("y")||x("M")||x("d")},S=function(){var e=$("<thead>").append($("<tr>").append($("<th>").addClass("prev").attr("data-action","previous").append($("<span>").addClass(n.icons.previous))).append($("<th>").addClass("picker-switch").attr("data-action","pickerSwitch").attr("colspan",n.calendarWeeks?"6":"5")).append($("<th>").addClass("next").attr("data-action","next").append($("<span>").addClass(n.icons.next)))),t=$("<tbody>").append($("<tr>").append($("<td>").attr("colspan",n.calendarWeeks?"8":"7")));return[$("<div>").addClass("datepicker-days").append($("<table>").addClass("table-condensed").append(e).append($("<tbody>"))),$("<div>").addClass("datepicker-months").append($("<table>").addClass("table-condensed").append(e.clone()).append(t.clone())),$("<div>").addClass("datepicker-years").append($("<table>").addClass("table-condensed").append(e.clone()).append(t.clone())),$("<div>").addClass("datepicker-decades").append($("<table>").addClass("table-condensed").append(e.clone()).append(t.clone()))]},O=function(){var e=$("<tr>"),t=$("<tr>"),a=$("<tr>");return x("h")&&(e.append($("<td>").append($("<a>").attr({href:"#",tabindex:"-1",title:n.tooltips.incrementHour}).addClass("btn").attr("data-action","incrementHours").append($("<span>").addClass(n.icons.up)))),t.append($("<td>").append($("<span>").addClass("timepicker-hour").attr({"data-time-component":"hours",title:n.tooltips.pickHour}).attr("data-action","showHours"))),a.append($("<td>").append($("<a>").attr({href:"#",tabindex:"-1",title:n.tooltips.decrementHour}).addClass("btn").attr("data-action","decrementHours").append($("<span>").addClass(n.icons.down))))),x("m")&&(x("h")&&(e.append($("<td>").addClass("separator")),t.append($("<td>").addClass("separator").html(":")),a.append($("<td>").addClass("separator"))),e.append($("<td>").append($("<a>").attr({href:"#",tabindex:"-1",title:n.tooltips.incrementMinute}).addClass("btn").attr("data-action","incrementMinutes").append($("<span>").addClass(n.icons.up)))),t.append($("<td>").append($("<span>").addClass("timepicker-minute").attr({"data-time-component":"minutes",title:n.tooltips.pickMinute}).attr("data-action","showMinutes"))),a.append($("<td>").append($("<a>").attr({href:"#",tabindex:"-1",title:n.tooltips.decrementMinute}).addClass("btn").attr("data-action","decrementMinutes").append($("<span>").addClass(n.icons.down))))),x("s")&&(x("m")&&(e.append($("<td>").addClass("separator")),t.append($("<td>").addClass("separator").html(":")),a.append($("<td>").addClass("separator"))),e.append($("<td>").append($("<a>").attr({href:"#",tabindex:"-1",title:n.tooltips.incrementSecond}).addClass("btn").attr("data-action","incrementSeconds").append($("<span>").addClass(n.icons.up)))),t.append($("<td>").append($("<span>").addClass("timepicker-second").attr({"data-time-component":"seconds",title:n.tooltips.pickSecond}).attr("data-action","showSeconds"))),a.append($("<td>").append($("<a>").attr({href:"#",tabindex:"-1",title:n.tooltips.decrementSecond}).addClass("btn").attr("data-action","decrementSeconds").append($("<span>").addClass(n.icons.down))))),p||(e.append($("<td>").addClass("separator")),t.append($("<td>").append($("<button>").addClass("btn btn-primary").attr({"data-action":"togglePeriod",tabindex:"-1",title:n.tooltips.togglePeriod}))),a.append($("<td>").addClass("separator"))),$("<div>").addClass("timepicker-picker").append($("<table>").addClass("table-condensed").append([e,t,a]))},P=function(){var e=$("<div>").addClass("timepicker-hours").append($("<table>").addClass("table-condensed")),t=$("<div>").addClass("timepicker-minutes").append($("<table>").addClass("table-condensed")),n=$("<div>").addClass("timepicker-seconds").append($("<table>").addClass("table-condensed")),a=[O()];return x("h")&&a.push(e),x("m")&&a.push(t),x("s")&&a.push(n),a},E=function(){var e=[];return n.showTodayButton&&e.push($("<td>").append($("<a>").attr({"data-action":"today",title:n.tooltips.today}).append($("<span>").addClass(n.icons.today)))),!n.sideBySide&&M()&&T()&&e.push($("<td>").append($("<a>").attr({"data-action":"togglePicker",title:n.tooltips.selectTime}).append($("<span>").addClass(n.icons.time)))),n.showClear&&e.push($("<td>").append($("<a>").attr({"data-action":"clear",title:n.tooltips.clear}).append($("<span>").addClass(n.icons.clear)))),n.showClose&&e.push($("<td>").append($("<a>").attr({"data-action":"close",title:n.tooltips.close}).append($("<span>").addClass(n.icons.close)))),$("<table>").addClass("table-condensed").append($("<tbody>").append($("<tr>").append(e)))},H=function(){var e=$("<div>").addClass("bootstrap-datetimepicker-widget dropdown-menu"),t=$("<div>").addClass("datepicker").append(S()),a=$("<div>").addClass("timepicker").append(P()),r=$("<ul>").addClass("list-unstyled"),i=$("<li>").addClass("picker-switch"+(n.collapse?" accordion-toggle":"")).append(E());return n.inline&&e.removeClass("dropdown-menu"),p&&e.addClass("usetwentyfour"),x("s")&&!p&&e.addClass("wider"),n.sideBySide&&M()&&T()?(e.addClass("timepicker-sbs"),"top"===n.toolbarPlacement&&e.append(i),e.append($("<div>").addClass("row").append(t.addClass("col-md-6")).append(a.addClass("col-md-6"))),"bottom"===n.toolbarPlacement&&e.append(i),e):("top"===n.toolbarPlacement&&r.append(i),M()&&r.append($("<li>").addClass(n.collapse&&T()?"collapse in":"").append(t)),"default"===n.toolbarPlacement&&r.append(i),T()&&r.append($("<li>").addClass(n.collapse&&M()?"collapse":"").append(a)),"bottom"===n.toolbarPlacement&&r.append(i),e.append(r))},I=function(){var e,a={};return e=t.is("input")||n.inline?t.data():t.find("input").data(),e.dateOptions&&e.dateOptions instanceof Object&&(a=$.extend(!0,a,e.dateOptions)),$.each(n,function(t){var n="date"+t.charAt(0).toUpperCase()+t.slice(1);void 0!==e[n]&&(a[t]=e[n])}),a},Y=function(){var e=(d||t).position(),a=(d||t).offset(),r=n.widgetPositioning.vertical,i=n.widgetPositioning.horizontal,o;if(n.widgetParent)o=n.widgetParent.append(l);else if(t.is("input"))o=t.after(l).parent();else{if(n.inline)return void(o=t.append(l));o=t,t.children().first().after(l)}if("auto"===r&&(r=a.top+1.5*l.height()>=$(window).height()+$(window).scrollTop()&&l.height()+t.outerHeight()<a.top?"top":"bottom"),"auto"===i&&(i=o.width()<a.left+l.outerWidth()/2&&a.left+l.outerWidth()>$(window).width()?"right":"left"),"top"===r?l.addClass("top").removeClass("bottom"):l.addClass("bottom").removeClass("top"),"right"===i?l.addClass("pull-right"):l.removeClass("pull-right"),"static"===o.css("position")&&(o=o.parents().filter(function(){return"static"!==$(this).css("position")}).first()),0===o.length)throw new Error("datetimepicker component should be placed within a non-static positioned container");l.css({top:"top"===r?"auto":e.top+t.outerHeight(),bottom:"top"===r?o.outerHeight()-(o===t?0:e.top):"auto",left:"left"===i?o===t?0:e.left:"auto",right:"left"===i?"auto":o.outerWidth()-t.outerWidth()-(o===t?0:e.left)})},q=function(e){"dp.change"===e.type&&(e.date&&e.date.isSame(e.oldDate)||!e.date&&!e.oldDate)||t.trigger(e)},B=function(e){"y"===e&&(e="YYYY"),q({type:"dp.update",change:e,viewDate:i.clone()})},j=function(e){l&&(e&&(h=Math.max(c,Math.min(3,h+e))),l.find(".datepicker > div").hide().filter(".datepicker-"+m[h].clsName).show())},A=function(){var e=$("<tr>"),t=i.clone().startOf("w").startOf("d");for(n.calendarWeeks===!0&&e.append($("<th>").addClass("cw").text("#"));t.isBefore(i.clone().endOf("w"));)e.append($("<th>").addClass("dow").text(t.format("dd"))),t.add(1,"d");l.find(".datepicker-days thead").append(e)},F=function(e){return n.disabledDates[e.format("YYYY-MM-DD")]===!0},L=function(e){return n.enabledDates[e.format("YYYY-MM-DD")]===!0},W=function(e){return n.disabledHours[e.format("H")]===!0},z=function(e){return n.enabledHours[e.format("H")]===!0},N=function(e,t){if(!e.isValid())return!1;if(n.disabledDates&&"d"===t&&F(e))return!1;if(n.enabledDates&&"d"===t&&!L(e))return!1;if(n.minDate&&e.isBefore(n.minDate,t))return!1;if(n.maxDate&&e.isAfter(n.maxDate,t))return!1;if(n.daysOfWeekDisabled&&"d"===t&&n.daysOfWeekDisabled.indexOf(e.day())!==-1)return!1;if(n.disabledHours&&("h"===t||"m"===t||"s"===t)&&W(e))return!1;if(n.enabledHours&&("h"===t||"m"===t||"s"===t)&&!z(e))return!1;if(n.disabledTimeIntervals&&("h"===t||"m"===t||"s"===t)){var a=!1;if($.each(n.disabledTimeIntervals,function(){if(e.isBetween(this[0],this[1]))return a=!0,!1}),a)return!1}return!0},V=function(){for(var e=[],t=i.clone().startOf("y").startOf("d");t.isSame(i,"y");)e.push($("<span>").attr("data-action","selectMonth").addClass("month").text(t.format("MMM"))),t.add(1,"M");l.find(".datepicker-months td").empty().append(e)},Z=function(){var e=l.find(".datepicker-months"),t=e.find("th"),a=e.find("tbody").find("span");t.eq(0).find("span").attr("title",n.tooltips.prevYear),t.eq(1).attr("title",n.tooltips.selectYear),t.eq(2).find("span").attr("title",n.tooltips.nextYear),e.find(".disabled").removeClass("disabled"),N(i.clone().subtract(1,"y"),"y")||t.eq(0).addClass("disabled"),t.eq(1).text(i.year()),N(i.clone().add(1,"y"),"y")||t.eq(2).addClass("disabled"),a.removeClass("active"),r.isSame(i,"y")&&!o&&a.eq(r.month()).addClass("active"),a.each(function(e){N(i.clone().month(e),"M")||$(this).addClass("disabled")})},R=function(){var e=l.find(".datepicker-years"),t=e.find("th"),a=i.clone().subtract(5,"y"),s=i.clone().add(6,"y"),d="";for(t.eq(0).find("span").attr("title",n.tooltips.prevDecade),t.eq(1).attr("title",n.tooltips.selectDecade),t.eq(2).find("span").attr("title",n.tooltips.nextDecade),e.find(".disabled").removeClass("disabled"),n.minDate&&n.minDate.isAfter(a,"y")&&t.eq(0).addClass("disabled"),t.eq(1).text(a.year()+"-"+s.year()),n.maxDate&&n.maxDate.isBefore(s,"y")&&t.eq(2).addClass("disabled");!a.isAfter(s,"y");)d+='<span data-action="selectYear" class="year'+(a.isSame(r,"y")&&!o?" active":"")+(N(a,"y")?"":" disabled")+'">'+a.year()+"</span>",a.add(1,"y");e.find("td").html(d)},Q=function(){var t=l.find(".datepicker-decades"),a=t.find("th"),o=e({y:i.year()-i.year()%100-1}),s=o.clone().add(100,"y"),d=o.clone(),p=!1,c=!1,u,f="";for(a.eq(0).find("span").attr("title",n.tooltips.prevCentury),a.eq(2).find("span").attr("title",n.tooltips.nextCentury),t.find(".disabled").removeClass("disabled"),(o.isSame(e({y:1900}))||n.minDate&&n.minDate.isAfter(o,"y"))&&a.eq(0).addClass("disabled"),a.eq(1).text(o.year()+"-"+s.year()),(o.isSame(e({y:2e3}))||n.maxDate&&n.maxDate.isBefore(s,"y"))&&a.eq(2).addClass("disabled");!o.isAfter(s,"y");)u=o.year()+12,p=n.minDate&&n.minDate.isAfter(o,"y")&&n.minDate.year()<=u,c=n.maxDate&&n.maxDate.isAfter(o,"y")&&n.maxDate.year()<=u,f+='<span data-action="selectDecade" class="decade'+(r.isAfter(o)&&r.year()<=u?" active":"")+(N(o,"y")||p||c?"":" disabled")+'" data-selection="'+(o.year()+6)+'">'+(o.year()+1)+" - "+(o.year()+12)+"</span>",o.add(12,"y");f+="<span></span><span></span><span></span>",t.find("td").html(f),a.eq(1).text(d.year()+1+"-"+o.year())},U=function(){var e=l.find(".datepicker-days"),t=e.find("th"),a,s=[],d,p=[],c;if(M()){for(t.eq(0).find("span").attr("title",n.tooltips.prevMonth),t.eq(1).attr("title",n.tooltips.selectMonth),t.eq(2).find("span").attr("title",n.tooltips.nextMonth),e.find(".disabled").removeClass("disabled"),t.eq(1).text(i.format(n.dayViewHeaderFormat)),N(i.clone().subtract(1,"M"),"M")||t.eq(0).addClass("disabled"),N(i.clone().add(1,"M"),"M")||t.eq(2).addClass("disabled"),a=i.clone().startOf("M").startOf("w").startOf("d"),c=0;c<42;c++)0===a.weekday()&&(d=$("<tr>"),n.calendarWeeks&&d.append('<td class="cw">'+a.week()+"</td>"),s.push(d)),p=["day"],a.isBefore(i,"M")&&p.push("old"),a.isAfter(i,"M")&&p.push("new"),a.isSame(r,"d")&&!o&&p.push("active"),N(a,"d")||p.push("disabled"),a.isSame(C(),"d")&&p.push("today"),0!==a.day()&&6!==a.day()||p.push("weekend"),q({type:"dp.classify",date:a,classNames:p}),d.append('<td data-action="selectDay" data-day="'+a.format("L")+'" class="'+p.join(" ")+'">'+a.date()+"</td>"),a.add(1,"d");e.find("tbody").empty().append(s),Z(),R(),Q()}},G=function(){var e=l.find(".timepicker-hours table"),t=i.clone().startOf("d"),n=[],a=$("<tr>");for(i.hour()>11&&!p&&t.hour(12);t.isSame(i,"d")&&(p||i.hour()<12&&t.hour()<12||i.hour()>11);)t.hour()%4===0&&(a=$("<tr>"),n.push(a)),a.append('<td data-action="selectHour" class="hour'+(N(t,"h")?"":" disabled")+'">'+t.format(p?"HH":"hh")+"</td>"),t.add(1,"h");e.empty().append(n)},J=function(){for(var e=l.find(".timepicker-minutes table"),t=i.clone().startOf("h"),a=[],r=$("<tr>"),o=1===n.stepping?5:n.stepping;i.isSame(t,"h");)t.minute()%(4*o)===0&&(r=$("<tr>"),a.push(r)),r.append('<td data-action="selectMinute" class="minute'+(N(t,"m")?"":" disabled")+'">'+t.format("mm")+"</td>"),t.add(o,"m");e.empty().append(a)},K=function(){for(var e=l.find(".timepicker-seconds table"),t=i.clone().startOf("m"),n=[],a=$("<tr>");i.isSame(t,"m");)t.second()%20===0&&(a=$("<tr>"),n.push(a)),a.append('<td data-action="selectSecond" class="second'+(N(t,"s")?"":" disabled")+'">'+t.format("ss")+"</td>"),t.add(5,"s");e.empty().append(n)},X=function(){var e,t,n=l.find(".timepicker span[data-time-component]");p||(e=l.find(".timepicker [data-action=togglePeriod]"),t=r.clone().add(r.hours()>=12?-12:12,"h"),e.text(r.format("A")),N(t,"h")?e.removeClass("disabled"):e.addClass("disabled")),n.filter("[data-time-component=hours]").text(r.format(p?"HH":"hh")),n.filter("[data-time-component=minutes]").text(r.format("mm")),n.filter("[data-time-component=seconds]").text(r.format("ss")),G(),J(),K()},_=function(){l&&(U(),X())},ee=function(e){var a=o?null:r;if(!e)return o=!0,s.val(""),t.data("date",""),q({type:"dp.change",date:!1,oldDate:a}),void _();if(e=e.clone().locale(n.locale),D()&&e.tz(n.timeZone),1!==n.stepping)for(e.minutes(Math.round(e.minutes()/n.stepping)*n.stepping).seconds(0);n.minDate&&e.isBefore(n.minDate);)e.add(n.stepping,"minutes");N(e)?(r=e,i=r.clone(),s.val(r.format(u)),t.data("date",r.format(u)),o=!1,_(),q({type:"dp.change",date:r.clone(),oldDate:a})):(n.keepInvalid?q({type:"dp.change",date:e,oldDate:a}):s.val(o?"":r.format(u)),q({type:"dp.error",date:e,oldDate:a}))},te=function(){var e=!1;return l?(l.find(".collapse").each(function(){var t=$(this).data("collapse");return!t||!t.transitioning||(e=!0,!1)}),e?a:(d&&d.hasClass("btn")&&d.toggleClass("active"),l.hide(),$(window).off("resize",Y),l.off("click","[data-action]"),l.off("mousedown",!1),l.remove(),l=!1,q({type:"dp.hide",date:r.clone()}),s.blur(),i=r.clone(),a)):a},ne=function(){ee(null)},ae=function(t){return void 0===n.parseInputDate?(!e.isMoment(t)||t instanceof Date)&&(t=C(t)):t=n.parseInputDate(t),t},re={next:function(){var e=m[h].navFnc;i.add(m[h].navStep,e),U(),B(e)},previous:function(){var e=m[h].navFnc;i.subtract(m[h].navStep,e),U(),B(e)},pickerSwitch:function(){j(1)},selectMonth:function(e){var t=$(e.target).closest("tbody").find("span").index($(e.target));i.month(t),h===c?(ee(r.clone().year(i.year()).month(i.month())),n.inline||te()):(j(-1),U()),B("M")},selectYear:function(e){var t=parseInt($(e.target).text(),10)||0;i.year(t),h===c?(ee(r.clone().year(i.year())),n.inline||te()):(j(-1),U()),B("YYYY")},selectDecade:function(e){var t=parseInt($(e.target).data("selection"),10)||0;i.year(t),h===c?(ee(r.clone().year(i.year())),n.inline||te()):(j(-1),U()),B("YYYY")},selectDay:function(e){var t=i.clone();$(e.target).is(".old")&&t.subtract(1,"M"),$(e.target).is(".new")&&t.add(1,"M"),ee(t.date(parseInt($(e.target).text(),10))),T()||n.keepOpen||n.inline||te()},incrementHours:function(){var e=r.clone().add(1,"h");N(e,"h")&&ee(e)},incrementMinutes:function(){var e=r.clone().add(n.stepping,"m");N(e,"m")&&ee(e)},incrementSeconds:function(){var e=r.clone().add(1,"s");N(e,"s")&&ee(e)},decrementHours:function(){var e=r.clone().subtract(1,"h");N(e,"h")&&ee(e)},decrementMinutes:function(){var e=r.clone().subtract(n.stepping,"m");N(e,"m")&&ee(e)},decrementSeconds:function(){var e=r.clone().subtract(1,"s");N(e,"s")&&ee(e)},togglePeriod:function(){ee(r.clone().add(r.hours()>=12?-12:12,"h"))},togglePicker:function(e){var t=$(e.target),a=t.closest("ul"),r=a.find(".in"),i=a.find(".collapse:not(.in)"),o;if(r&&r.length){if(o=r.data("collapse"),o&&o.transitioning)return;r.collapse?(r.collapse("hide"),i.collapse("show")):(r.removeClass("in"),i.addClass("in")),t.is("span")?t.toggleClass(n.icons.time+" "+n.icons.date):t.find("span").toggleClass(n.icons.time+" "+n.icons.date)}},showPicker:function(){l.find(".timepicker > div:not(.timepicker-picker)").hide(),l.find(".timepicker .timepicker-picker").show()},showHours:function(){l.find(".timepicker .timepicker-picker").hide(),l.find(".timepicker .timepicker-hours").show()},showMinutes:function(){l.find(".timepicker .timepicker-picker").hide(),l.find(".timepicker .timepicker-minutes").show()},showSeconds:function(){l.find(".timepicker .timepicker-picker").hide(),l.find(".timepicker .timepicker-seconds").show()},selectHour:function(e){var t=parseInt($(e.target).text(),10);p||(r.hours()>=12?12!==t&&(t+=12):12===t&&(t=0)),ee(r.clone().hours(t)),re.showPicker.call(a)},selectMinute:function(e){ee(r.clone().minutes(parseInt($(e.target).text(),10))),re.showPicker.call(a)},selectSecond:function(e){ee(r.clone().seconds(parseInt($(e.target).text(),10))),re.showPicker.call(a)},clear:ne,today:function(){var e=C();N(e,"d")&&ee(e)},close:te},ie=function(e){return!$(e.currentTarget).is(".disabled")&&(re[$(e.currentTarget).data("action")].apply(a,arguments),!1)},oe=function(){var e,t={year:function(e){return e.month(0).date(1).hours(0).seconds(0).minutes(0)},month:function(e){return e.date(1).hours(0).seconds(0).minutes(0)},day:function(e){return e.hours(0).seconds(0).minutes(0)},hour:function(e){return e.seconds(0).minutes(0)},minute:function(e){return e.seconds(0)}};return s.prop("disabled")||!n.ignoreReadonly&&s.prop("readonly")||l?a:(void 0!==s.val()&&0!==s.val().trim().length?ee(ae(s.val().trim())):o&&n.useCurrent&&(n.inline||s.is("input")&&0===s.val().trim().length)&&(e=C(),"string"==typeof n.useCurrent&&(e=t[n.useCurrent](e)),ee(e)),l=H(),A(),V(),l.find(".timepicker-hours").hide(),l.find(".timepicker-minutes").hide(),l.find(".timepicker-seconds").hide(),_(),j(),$(window).on("resize",Y),l.on("click","[data-action]",ie),l.on("mousedown",!1),d&&d.hasClass("btn")&&d.toggleClass("active"),Y(),l.show(),n.focusOnShow&&!s.is(":focus")&&s.focus(),q({type:"dp.show"}),a)},se=function(){return l?te():oe()},de=function(e){var t=null,r,i,o=[],s={},d=e.which,p,c,u="p";k[d]=u;for(r in k)k.hasOwnProperty(r)&&k[r]===u&&(o.push(r),parseInt(r,10)!==d&&(s[r]=!0));for(r in n.keyBinds)if(n.keyBinds.hasOwnProperty(r)&&"function"==typeof n.keyBinds[r]&&(p=r.split(" "),p.length===o.length&&v[d]===p[p.length-1])){for(c=!0,i=p.length-2;i>=0;i--)if(!(v[p[i]]in s)){c=!1;break}if(c){t=n.keyBinds[r];break}}t&&(t.call(a,l),e.stopPropagation(),e.preventDefault())},le=function(e){k[e.which]="r",e.stopPropagation(),e.preventDefault()},pe=function(e){var t=$(e.target).val().trim(),n=t?ae(t):null;return ee(n),e.stopImmediatePropagation(),!1},ce=function(){s.on({change:pe,blur:n.debug?"":te,keydown:de,keyup:le,focus:n.allowInputToggle?oe:""}),t.is("input")?s.on({focus:oe}):d&&(d.on("click",se),d.on("mousedown",!1))},ue=function(){s.off({change:pe,blur:blur,keydown:de,keyup:le,focus:n.allowInputToggle?te:""}),t.is("input")?s.off({focus:oe}):d&&(d.off("click",se),d.off("mousedown",!1))},fe=function(e){var t={};return $.each(e,function(){var e=ae(this);e.isValid()&&(t[e.format("YYYY-MM-DD")]=!0)}),!!Object.keys(t).length&&t},he=function(e){var t={};return $.each(e,function(){t[this]=!0}),!!Object.keys(t).length&&t},me=function(){var e=n.format||"L LT";u=e.replace(/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,function(e){var t=r.localeData().longDateFormat(e)||e;return t.replace(/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,function(e){return r.localeData().longDateFormat(e)||e})}),f=n.extraFormats?n.extraFormats.slice():[],f.indexOf(e)<0&&f.indexOf(u)<0&&f.push(u),p=u.toLowerCase().indexOf("a")<1&&u.replace(/\[.*?\]/g,"").indexOf("h")<1,x("y")&&(c=2),x("M")&&(c=1),x("d")&&(c=0),h=Math.max(c,h),o||ee(r)};if(a.destroy=function(){te(),ue(),t.removeData("DateTimePicker"),t.removeData("date")},a.toggle=se,a.show=oe,a.hide=te,a.disable=function(){return te(),d&&d.hasClass("btn")&&d.addClass("disabled"),s.prop("disabled",!0),a},a.enable=function(){return d&&d.hasClass("btn")&&d.removeClass("disabled"),s.prop("disabled",!1),a},a.ignoreReadonly=function(e){if(0===arguments.length)return n.ignoreReadonly;if("boolean"!=typeof e)throw new TypeError("ignoreReadonly () expects a boolean parameter");return n.ignoreReadonly=e,a},a.options=function(e){if(0===arguments.length)return $.extend(!0,{},n);if(!(e instanceof Object))throw new TypeError("options() options parameter should be an object");return $.extend(!0,n,e),$.each(n,function(e,t){if(void 0===a[e])throw new TypeError("option "+e+" is not recognized!");a[e](t)}),a},a.date=function(t){if(0===arguments.length)return o?null:r.clone();if(!(null===t||"string"==typeof t||e.isMoment(t)||t instanceof Date))throw new TypeError("date() parameter must be one of [null, string, moment or Date]");return ee(null===t?null:ae(t)),a},a.format=function(e){if(0===arguments.length)return n.format;if("string"!=typeof e&&("boolean"!=typeof e||e!==!1))throw new TypeError("format() expects a string or boolean:false parameter "+e);return n.format=e,u&&me(),a},a.timeZone=function(e){if(0===arguments.length)return n.timeZone;if("string"!=typeof e)throw new TypeError("newZone() expects a string parameter");return n.timeZone=e,a},a.dayViewHeaderFormat=function(e){if(0===arguments.length)return n.dayViewHeaderFormat;if("string"!=typeof e)throw new TypeError("dayViewHeaderFormat() expects a string parameter");return n.dayViewHeaderFormat=e,a},a.extraFormats=function(e){if(0===arguments.length)return n.extraFormats;if(e!==!1&&!(e instanceof Array))throw new TypeError("extraFormats() expects an array or false parameter");return n.extraFormats=e,f&&me(),a},a.disabledDates=function(e){if(0===arguments.length)return n.disabledDates?$.extend({},n.disabledDates):n.disabledDates;if(!e)return n.disabledDates=!1,_(),a;if(!(e instanceof Array))throw new TypeError("disabledDates() expects an array parameter");return n.disabledDates=fe(e),n.enabledDates=!1,_(),a},a.enabledDates=function(e){if(0===arguments.length)return n.enabledDates?$.extend({},n.enabledDates):n.enabledDates;if(!e)return n.enabledDates=!1,_(),a;if(!(e instanceof Array))throw new TypeError("enabledDates() expects an array parameter");return n.enabledDates=fe(e),n.disabledDates=!1,_(),a},a.daysOfWeekDisabled=function(e){if(0===arguments.length)return n.daysOfWeekDisabled.splice(0);if("boolean"==typeof e&&!e)return n.daysOfWeekDisabled=!1,_(),a;if(!(e instanceof Array))throw new TypeError("daysOfWeekDisabled() expects an array parameter");if(n.daysOfWeekDisabled=e.reduce(function(e,t){return t=parseInt(t,10),t>6||t<0||isNaN(t)?e:(e.indexOf(t)===-1&&e.push(t),e)},[]).sort(),n.useCurrent&&!n.keepInvalid){for(var t=0;!N(r,"d");){if(r.add(1,"d"),31===t)throw"Tried 31 times to find a valid date";t++}ee(r)}return _(),a},a.maxDate=function(e){if(0===arguments.length)return n.maxDate?n.maxDate.clone():n.maxDate;if("boolean"==typeof e&&e===!1)return n.maxDate=!1,_(),a;"string"==typeof e&&("now"!==e&&"moment"!==e||(e=C()));var t=ae(e);if(!t.isValid())throw new TypeError("maxDate() Could not parse date parameter: "+e);if(n.minDate&&t.isBefore(n.minDate))throw new TypeError("maxDate() date parameter is before options.minDate: "+t.format(u));return n.maxDate=t,n.useCurrent&&!n.keepInvalid&&r.isAfter(e)&&ee(n.maxDate),i.isAfter(t)&&(i=t.clone().subtract(n.stepping,"m")),_(),a},a.minDate=function(e){if(0===arguments.length)return n.minDate?n.minDate.clone():n.minDate;if("boolean"==typeof e&&e===!1)return n.minDate=!1,_(),a;"string"==typeof e&&("now"!==e&&"moment"!==e||(e=C()));var t=ae(e);if(!t.isValid())throw new TypeError("minDate() Could not parse date parameter: "+e);if(n.maxDate&&t.isAfter(n.maxDate))throw new TypeError("minDate() date parameter is after options.maxDate: "+t.format(u));return n.minDate=t,n.useCurrent&&!n.keepInvalid&&r.isBefore(e)&&ee(n.minDate),i.isBefore(t)&&(i=t.clone().add(n.stepping,"m")),_(),a},a.defaultDate=function(e){if(0===arguments.length)return n.defaultDate?n.defaultDate.clone():n.defaultDate;if(!e)return n.defaultDate=!1,a;"string"==typeof e&&(e="now"===e||"moment"===e?C():C(e));var t=ae(e);if(!t.isValid())throw new TypeError("defaultDate() Could not parse date parameter: "+e);if(!N(t))throw new TypeError("defaultDate() date passed is invalid according to component setup validations");return n.defaultDate=t,(n.defaultDate&&n.inline||""===s.val().trim())&&ee(n.defaultDate),a},a.locale=function(t){if(0===arguments.length)return n.locale;if(!e.localeData(t))throw new TypeError("locale() locale "+t+" is not loaded from moment locales!");return n.locale=t,r.locale(n.locale),i.locale(n.locale),u&&me(),l&&(te(),oe()),a},a.stepping=function(e){return 0===arguments.length?n.stepping:(e=parseInt(e,10),(isNaN(e)||e<1)&&(e=1),n.stepping=e,a)},a.useCurrent=function(e){var t=["year","month","day","hour","minute"];if(0===arguments.length)return n.useCurrent;if("boolean"!=typeof e&&"string"!=typeof e)throw new TypeError("useCurrent() expects a boolean or string parameter");if("string"==typeof e&&t.indexOf(e.toLowerCase())===-1)throw new TypeError("useCurrent() expects a string parameter of "+t.join(", "));return n.useCurrent=e,a},a.collapse=function(e){if(0===arguments.length)return n.collapse;if("boolean"!=typeof e)throw new TypeError("collapse() expects a boolean parameter");return n.collapse===e?a:(n.collapse=e,l&&(te(),oe()),a)},a.icons=function(e){if(0===arguments.length)return $.extend({},n.icons);if(!(e instanceof Object))throw new TypeError("icons() expects parameter to be an Object");return $.extend(n.icons,e),l&&(te(),oe()),a},a.tooltips=function(e){if(0===arguments.length)return $.extend({},n.tooltips);if(!(e instanceof Object))throw new TypeError("tooltips() expects parameter to be an Object");return $.extend(n.tooltips,e),l&&(te(),oe()),a},a.useStrict=function(e){if(0===arguments.length)return n.useStrict;if("boolean"!=typeof e)throw new TypeError("useStrict() expects a boolean parameter");return n.useStrict=e,a},a.sideBySide=function(e){if(0===arguments.length)return n.sideBySide;if("boolean"!=typeof e)throw new TypeError("sideBySide() expects a boolean parameter");return n.sideBySide=e,l&&(te(),oe()),a},a.viewMode=function(e){if(0===arguments.length)return n.viewMode;if("string"!=typeof e)throw new TypeError("viewMode() expects a string parameter");if(y.indexOf(e)===-1)throw new TypeError("viewMode() parameter must be one of ("+y.join(", ")+") value");return n.viewMode=e,h=Math.max(y.indexOf(e),c),j(),a},a.toolbarPlacement=function(e){if(0===arguments.length)return n.toolbarPlacement;if("string"!=typeof e)throw new TypeError("toolbarPlacement() expects a string parameter");if(w.indexOf(e)===-1)throw new TypeError("toolbarPlacement() parameter must be one of ("+w.join(", ")+") value");return n.toolbarPlacement=e,l&&(te(),oe()),a},a.widgetPositioning=function(e){if(0===arguments.length)return $.extend({},n.widgetPositioning);if("[object Object]"!=={}.toString.call(e))throw new TypeError("widgetPositioning() expects an object variable");if(e.horizontal){if("string"!=typeof e.horizontal)throw new TypeError("widgetPositioning() horizontal variable must be a string");if(e.horizontal=e.horizontal.toLowerCase(),b.indexOf(e.horizontal)===-1)throw new TypeError("widgetPositioning() expects horizontal parameter to be one of ("+b.join(", ")+")");n.widgetPositioning.horizontal=e.horizontal}if(e.vertical){if("string"!=typeof e.vertical)throw new TypeError("widgetPositioning() vertical variable must be a string");if(e.vertical=e.vertical.toLowerCase(),g.indexOf(e.vertical)===-1)throw new TypeError("widgetPositioning() expects vertical parameter to be one of ("+g.join(", ")+")");n.widgetPositioning.vertical=e.vertical}return _(),a},a.calendarWeeks=function(e){if(0===arguments.length)return n.calendarWeeks;if("boolean"!=typeof e)throw new TypeError("calendarWeeks() expects parameter to be a boolean value");return n.calendarWeeks=e,_(),a},a.showTodayButton=function(e){if(0===arguments.length)return n.showTodayButton;if("boolean"!=typeof e)throw new TypeError("showTodayButton() expects a boolean parameter");return n.showTodayButton=e,l&&(te(),oe()),a},a.showClear=function(e){if(0===arguments.length)return n.showClear;if("boolean"!=typeof e)throw new TypeError("showClear() expects a boolean parameter");return n.showClear=e,l&&(te(),oe()),a},a.widgetParent=function(e){if(0===arguments.length)return n.widgetParent;if("string"==typeof e&&(e=$(e)),null!==e&&"string"!=typeof e&&!(e instanceof $))throw new TypeError("widgetParent() expects a string or a jQuery object parameter");return n.widgetParent=e,l&&(te(),oe()),a},a.keepOpen=function(e){if(0===arguments.length)return n.keepOpen;if("boolean"!=typeof e)throw new TypeError("keepOpen() expects a boolean parameter");return n.keepOpen=e,a},a.focusOnShow=function(e){if(0===arguments.length)return n.focusOnShow;if("boolean"!=typeof e)throw new TypeError("focusOnShow() expects a boolean parameter");return n.focusOnShow=e,a},a.inline=function(e){if(0===arguments.length)return n.inline;if("boolean"!=typeof e)throw new TypeError("inline() expects a boolean parameter");return n.inline=e,a},a.clear=function(){return ne(),a},a.keyBinds=function(e){return 0===arguments.length?n.keyBinds:(n.keyBinds=e,a)},a.getMoment=function(e){return C(e)},a.debug=function(e){if("boolean"!=typeof e)throw new TypeError("debug() expects a boolean parameter");return n.debug=e,a},a.allowInputToggle=function(e){if(0===arguments.length)return n.allowInputToggle;if("boolean"!=typeof e)throw new TypeError("allowInputToggle() expects a boolean parameter");return n.allowInputToggle=e,a},a.showClose=function(e){if(0===arguments.length)return n.showClose;if("boolean"!=typeof e)throw new TypeError("showClose() expects a boolean parameter");return n.showClose=e,a},a.keepInvalid=function(e){if(0===arguments.length)return n.keepInvalid;if("boolean"!=typeof e)throw new TypeError("keepInvalid() expects a boolean parameter");
return n.keepInvalid=e,a},a.datepickerInput=function(e){if(0===arguments.length)return n.datepickerInput;if("string"!=typeof e)throw new TypeError("datepickerInput() expects a string parameter");return n.datepickerInput=e,a},a.parseInputDate=function(e){if(0===arguments.length)return n.parseInputDate;if("function"!=typeof e)throw new TypeError("parseInputDate() sholud be as function");return n.parseInputDate=e,a},a.disabledTimeIntervals=function(e){if(0===arguments.length)return n.disabledTimeIntervals?$.extend({},n.disabledTimeIntervals):n.disabledTimeIntervals;if(!e)return n.disabledTimeIntervals=!1,_(),a;if(!(e instanceof Array))throw new TypeError("disabledTimeIntervals() expects an array parameter");return n.disabledTimeIntervals=e,_(),a},a.disabledHours=function(e){if(0===arguments.length)return n.disabledHours?$.extend({},n.disabledHours):n.disabledHours;if(!e)return n.disabledHours=!1,_(),a;if(!(e instanceof Array))throw new TypeError("disabledHours() expects an array parameter");if(n.disabledHours=he(e),n.enabledHours=!1,n.useCurrent&&!n.keepInvalid){for(var t=0;!N(r,"h");){if(r.add(1,"h"),24===t)throw"Tried 24 times to find a valid date";t++}ee(r)}return _(),a},a.enabledHours=function(e){if(0===arguments.length)return n.enabledHours?$.extend({},n.enabledHours):n.enabledHours;if(!e)return n.enabledHours=!1,_(),a;if(!(e instanceof Array))throw new TypeError("enabledHours() expects an array parameter");if(n.enabledHours=he(e),n.disabledHours=!1,n.useCurrent&&!n.keepInvalid){for(var t=0;!N(r,"h");){if(r.add(1,"h"),24===t)throw"Tried 24 times to find a valid date";t++}ee(r)}return _(),a},a.viewDate=function(t){if(0===arguments.length)return i.clone();if(!t)return i=r.clone(),a;if(!("string"==typeof t||e.isMoment(t)||t instanceof Date))throw new TypeError("viewDate() parameter must be one of [string, moment or Date]");return i=ae(t),B(),a},t.is("input"))s=t;else if(s=t.find(n.datepickerInput),0===s.length)s=t.find("input");else if(!s.is("input"))throw new Error('CSS class "'+n.datepickerInput+'" cannot be applied to non input element');if(t.hasClass("input-group")&&(d=0===t.find(".datepickerbutton").length?t.find(".input-group-addon"):t.find(".datepickerbutton")),!n.inline&&!s.is("input"))throw new Error("Could not initialize DateTimePicker without an input element");return r=C(),i=r.clone(),$.extend(!0,n,I()),a.options(n),me(),ce(),s.prop("disabled")&&a.disable(),s.is("input")&&0!==s.val().trim().length?ee(ae(s.val().trim())):n.defaultDate&&void 0===s.attr("placeholder")&&ee(n.defaultDate),n.inline&&oe(),a};return $.fn.datetimepicker=function(e){e=e||{};var n=Array.prototype.slice.call(arguments,1),a=!0,r=["destroy","hide","show","toggle"],i;if("object"==typeof e)return this.each(function(){var n=$(this),a;n.data("DateTimePicker")||(a=$.extend(!0,{},$.fn.datetimepicker.defaults,e),n.data("DateTimePicker",t(n,a)))});if("string"==typeof e)return this.each(function(){var t=$(this),r=t.data("DateTimePicker");if(!r)throw new Error('bootstrap-datetimepicker("'+e+'") method was called on an element that is not using DateTimePicker');i=r[e].apply(r,n),a=i===r}),a||$.inArray(e,r)>-1?this:i;throw new TypeError("Invalid arguments for DateTimePicker: "+e)},$.fn.datetimepicker.defaults={timeZone:"",format:!1,dayViewHeaderFormat:"MMMM YYYY",extraFormats:!1,stepping:1,minDate:!1,maxDate:!1,useCurrent:!0,collapse:!0,locale:e.locale(),defaultDate:!1,disabledDates:!1,enabledDates:!1,icons:{time:"glyphicon glyphicon-time",date:"glyphicon glyphicon-calendar",up:"glyphicon glyphicon-chevron-up",down:"glyphicon glyphicon-chevron-down",previous:"glyphicon glyphicon-chevron-left",next:"glyphicon glyphicon-chevron-right",today:"glyphicon glyphicon-screenshot",clear:"glyphicon glyphicon-trash",close:"glyphicon glyphicon-remove"},tooltips:{today:"Go to today",clear:"Clear selection",close:"Close the picker",selectMonth:"Select Month",prevMonth:"Previous Month",nextMonth:"Next Month",selectYear:"Select Year",prevYear:"Previous Year",nextYear:"Next Year",selectDecade:"Select Decade",prevDecade:"Previous Decade",nextDecade:"Next Decade",prevCentury:"Previous Century",nextCentury:"Next Century",pickHour:"Pick Hour",incrementHour:"Increment Hour",decrementHour:"Decrement Hour",pickMinute:"Pick Minute",incrementMinute:"Increment Minute",decrementMinute:"Decrement Minute",pickSecond:"Pick Second",incrementSecond:"Increment Second",decrementSecond:"Decrement Second",togglePeriod:"Toggle Period",selectTime:"Select Time"},useStrict:!1,sideBySide:!1,daysOfWeekDisabled:!1,calendarWeeks:!1,viewMode:"days",toolbarPlacement:"default",showTodayButton:!1,showClear:!1,showClose:!1,widgetPositioning:{horizontal:"auto",vertical:"auto"},widgetParent:null,ignoreReadonly:!1,keepOpen:!1,focusOnShow:!0,inline:!1,keepInvalid:!1,datepickerInput:".datepickerinput",keyBinds:{up:function(e){if(e){var t=this.date()||this.getMoment();e.find(".datepicker").is(":visible")?this.date(t.clone().subtract(7,"d")):this.date(t.clone().add(this.stepping(),"m"))}},down:function(e){if(!e)return void this.show();var t=this.date()||this.getMoment();e.find(".datepicker").is(":visible")?this.date(t.clone().add(7,"d")):this.date(t.clone().subtract(this.stepping(),"m"))},"control up":function(e){if(e){var t=this.date()||this.getMoment();e.find(".datepicker").is(":visible")?this.date(t.clone().subtract(1,"y")):this.date(t.clone().add(1,"h"))}},"control down":function(e){if(e){var t=this.date()||this.getMoment();e.find(".datepicker").is(":visible")?this.date(t.clone().add(1,"y")):this.date(t.clone().subtract(1,"h"))}},left:function(e){if(e){var t=this.date()||this.getMoment();e.find(".datepicker").is(":visible")&&this.date(t.clone().subtract(1,"d"))}},right:function(e){if(e){var t=this.date()||this.getMoment();e.find(".datepicker").is(":visible")&&this.date(t.clone().add(1,"d"))}},pageUp:function(e){if(e){var t=this.date()||this.getMoment();e.find(".datepicker").is(":visible")&&this.date(t.clone().subtract(1,"M"))}},pageDown:function(e){if(e){var t=this.date()||this.getMoment();e.find(".datepicker").is(":visible")&&this.date(t.clone().add(1,"M"))}},enter:function(){this.hide()},escape:function(){this.hide()},"control space":function(e){e&&e.find(".timepicker").is(":visible")&&e.find('.btn[data-action="togglePeriod"]').click()},t:function(){this.date(this.getMoment())},delete:function(){this.clear()}},debug:!1,allowInputToggle:!1,disabledTimeIntervals:!1,disabledHours:!1,enabledHours:!1,viewDate:!1},$.fn.datetimepicker});